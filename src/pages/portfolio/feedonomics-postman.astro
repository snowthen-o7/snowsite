---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Feedonomics API Collection" description="Reorganized Postman collection with security improvements">
  <a href="/portfolio" class="back-link">← Back to Portfolio</a>
  
  <h1>Feedonomics API Collection</h1>
  <p class="subtitle">Reorganized Postman collection with security improvements</p>

  <section>
    <h2>The Problem</h2>
    <p>
      The existing API testing setup had grown organically over time—requests were 
      scattered across multiple collections with inconsistent organization, hardcoded 
      credentials posed security risks, and switching between production and development 
      environments required manual URL changes.
    </p>
  </section>

  <section>
    <h2>The Solution</h2>
    <p>
      I restructured the entire collection into seven logically organized collections 
      with environment-based configuration, proper security practices, and comprehensive 
      coverage of the APIs we regularly interact with.
    </p>
  </section>

  <section>
    <h2>Collections Created</h2>
    <ul>
      <li><strong>Shopify REST API</strong> — Products, orders, inventory, customers</li>
      <li><strong>Shopify GraphQL API</strong> — 35 requests across 10 folders (shop, products, variants, inventory, collections, orders, customers, metafields, bulk operations, webhooks)</li>
      <li><strong>BigCommerce API</strong> — Catalog, orders, customers</li>
      <li><strong>WooCommerce API</strong> — Products, orders, variations</li>
      <li><strong>Magento API</strong> — Products, inventory, orders</li>
      <li><strong>Feedonomics Platform API</strong> — 60+ requests across 11 folders (auth, databases, imports, exports, FTP, logs, users, webhooks, scripts, preprocess, workflows)</li>
      <li><strong>TrustPilot API</strong> — Reviews, invitations</li>
    </ul>
  </section>

  <section>
    <h2>Security Improvements</h2>
    <ul>
      <li>Replaced all hardcoded credentials with environment variables</li>
      <li>Created separate Production and Development environment files</li>
      <li>Added <code>{"{{base_url}}"}</code>, <code>{"{{preprocess_url}}"}</code>, and <code>{"{{webhook_host}}"}</code> variables for easy environment switching</li>
      <li>Documented credential requirements without exposing actual values</li>
    </ul>
  </section>

  <section>
    <h2>Technical Improvements</h2>
    <ul>
      <li><strong>GraphQL mode</strong> — Shopify GraphQL requests now use proper <code>"mode": "graphql"</code> with separate query and variables fields, enabling Postman's GraphQL-specific features</li>
      <li><strong>Logical organization</strong> — Requests grouped by resource type and operation</li>
      <li><strong>Pre-request scripts</strong> — Automatic token refresh and request signing where needed</li>
      <li><strong>Example responses</strong> — Saved examples for documentation and testing</li>
    </ul>
  </section>

  <section>
    <h2>Impact</h2>
    <p>
      Environment switching now takes one click instead of manual find-and-replace. 
      New team members can get up and running faster with organized, documented 
      requests. And we no longer have credentials accidentally committed to version 
      control.
    </p>
  </section>
</Layout>

<style>
  .back-link {
    display: inline-block;
    font-family: var(--font-mono);
    font-size: 0.875rem;
    color: var(--text-muted);
    margin-bottom: 2rem;
  }

  .back-link:hover {
    color: var(--accent);
  }

  h1 {
    margin-bottom: 0.5rem;
  }

  .subtitle {
    font-family: var(--font-mono);
    color: var(--accent);
    font-size: 1rem;
    margin-bottom: 2.5rem;
  }

  section {
    margin-bottom: 2.5rem;
  }

  ul li strong {
    font-family: var(--font-mono);
    color: var(--accent);
  }
</style>
